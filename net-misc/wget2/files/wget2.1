.\" Automatically generated by Pandoc 1.19.2.1
.\"
.TH "WGET2" "1" "" "GNU Wget2 User Manual" "GNU Wget2 1.99.0"
.hy
.SH Name
.PP
Wget2 \- a recursive metalink/file/website downloader.
.SH Synopsis
.PP
\f[C]wget2\ [options]...\ [URL]...\f[]
.SH Description
.PP
GNU Wget2 is a free utility for non\-interactive download of files from
the Web.
It supports HTTP and HTTPS protocols, as well as retrieval through
HTTP(S) proxies.
.PP
Wget2 is non\-interactive, meaning that it can work in the background,
while the user is not logged on.
This allows you to start a retrieval and disconnect from the system,
letting Wget2 finish the work.
By contrast, most of the Web browsers require constant user\[aq]s
presence, which can be a great hindrance when transferring a lot of
data.
.PP
Wget2 can follow links in HTML, XHTML, CSS, RSS, Atom and sitemap files
to create local versions of remote web sites, fully recreating the
directory structure of the original site.
This is sometimes referred to as \f[I]recursive downloading\f[].
While doing that, Wget2 respects the Robot Exclusion Standard
(\f[I]/robots.txt\f[]).
Wget2 can be instructed to convert the links in downloaded files to
point at the local files, for offline viewing.
.PP
Wget2 has been designed for robustness over slow or unstable network
connections; if a download fails due to a network problem, it will keep
retrying until the whole file has been retrieved.
If the server supports partial downloads, it may continue the download
from where it left off.
.SH Options
.SS Option Syntax
.PP
Every option has a long form and sometimes also a short one.
Long options are more convenient to remember, but take time to type.
You may freely mix different option styles.
Thus you may write:
.IP
.nf
\f[C]
\ \ wget2\ \-r\ \-\-tries=10\ https://example.com/\ \-o\ log
\f[]
.fi
.PP
The space between the option accepting an argument and the argument may
be omitted.
Instead of \f[C]\-o\ log\f[] you can write \f[C]\-olog\f[].
.PP
You may put several options that do not require arguments together,
like:
.IP
.nf
\f[C]
\ \ wget2\ \-drc\ <URL>
\f[]
.fi
.PP
This is equivalent to:
.IP
.nf
\f[C]
\ \ wget2\ \-d\ \-r\ \-c\ <URL>
\f[]
.fi
.PP
Since the options can be specified after the arguments, you may
terminate them with \f[C]\-\-\f[].
So the following will try to download URL \f[C]\-x\f[], reporting
failure to \f[C]log\f[]:
.IP
.nf
\f[C]
\ \ wget2\ \-o\ log\ \-\-\ \-x
\f[]
.fi
.PP
The options that accept comma\-separated lists all respect the
convention that specifying an empty list clears its value.
This can be useful to clear the \f[C]\&.wgetrc\f[] settings.
For instance, if your \f[C]\&.wgetrc\f[] sets
\f[C]exclude\-directories\f[] to \f[C]/cgi\-bin\f[], the following
example will first reset it, and then set it to exclude
\f[C]/~nobody\f[] and \f[C]/~somebody\f[].
You can also clear the lists in \f[C]\&.wgetrc\f[].
.IP
.nf
\f[C]
\ \ wget2\ \-X\ \[aq]\[aq]\ \-X\ /~nobody,/~somebody
\f[]
.fi
.PP
Most options that do not accept arguments are boolean options, so named
because their state can be captured with a yes\-or\-no ("boolean")
variable.
For example, \f[C]\-\-follow\-ftp\f[] tells Wget2 to follow FTP links
from HTML files and, on the other hand, \f[C]\-\-no\-glob\f[] tells it
not to perform file globbing on FTP URLs.
A boolean option is either affirmative or negative (beginning with
\f[C]\-\-no\-\f[]).
All such options share several properties.
.PP
Affirmative options can be negated by prepending the \f[C]\-\-no\-\f[]
to the option name; negative options can be negated by omitting the
\f[C]\-\-no\-\f[] prefix.
This might seem superfluous\-\-\-if the default for an affirmative
option is to not do something, then why provide a way to explicitly turn
it off?
But the startup file may in fact change the default.
For instance, using \f[C]follow_ftp\ =\ on\f[] in \f[C]\&.wgetrc\f[]
makes Wget2 follow FTP links by default, and using
\f[C]\-\-no\-follow\-ftp\f[] is the only way to restore the factory
default from the command line.
.SS Basic Startup Options
.SS \f[C]\-V\f[], \f[C]\-\-version\f[]
.PP
Display the version of Wget2.
.SS \f[C]\-h\f[], \f[C]\-\-help\f[]
.PP
Print a help message describing all of Wget2\[aq]s command\-line
options.
.SS \f[C]\-b\f[], \f[C]\-\-background\f[]
.PP
Go to background immediately after startup.
If no output file is specified via the \f[C]\-o\f[], output is
redirected to \f[C]wget\-log\f[].
.SS \f[C]\-e\f[], \f[C]\-\-execute=command\f[]
.PP
Execute command as if it were a part of \f[C]\&.wgetrc\f[].
A command thus invoked will be executed after the commands in
\f[C]\&.wgetrc\f[], thus taking precedence over them.
If you need to specify more than one wgetrc command, use multiple
instances of \f[C]\-e\f[].
.SS Logging and Input File Options
.SS \f[C]\-o\f[], \f[C]\-\-output\-file=logfile\f[]
.PP
Log all messages to \f[C]logfile\f[].
The messages are normally reported to standard error.
.SS \f[C]\-a\f[], \f[C]\-\-append\-output=logfile\f[]
.PP
Append to \f[C]logfile\f[].
This is the same as \f[C]\-o\f[], only it appends to \f[C]logfile\f[]
instead of overwriting the old log file.
If \f[C]logfile\f[] does not exist, a new file is created.
.SS \f[C]\-d\f[], \f[C]\-\-debug\f[]
.PP
Turn on debug output, meaning various information important to the
developers of Wget2 if it does not work properly.
Your system administrator may have chosen to compile Wget2 without debug
support, in which case \f[C]\-d\f[] will not work.
Please note that compiling with debug support is always safe, Wget2
compiled with the debug support will not print any debug info unless
requested with \f[C]\-d\f[].
.SS \f[C]\-q\f[], \f[C]\-\-quiet\f[]
.PP
Turn off Wget2\[aq]s output.
.SS \f[C]\-v\f[], \f[C]\-\-verbose\f[]
.PP
Turn on verbose output, with all the available data.
The default output is verbose.
.SS \f[C]\-nv\f[], \f[C]\-\-no\-verbose\f[]
.PP
Turn off verbose without being completely quiet (use \f[C]\-q\f[] for
that), which means that error messages and basic information still get
printed.
.SS \f[C]\-\-report\-speed=type\f[]
.PP
Output bandwidth as \f[C]type\f[].
The only accepted values are \f[C]bytes\f[] (which is set by default)
and \f[C]bits\f[].
This option only works if \f[C]\-\-progress=bar\f[] is also set.
.SS \f[C]\-i\f[], \f[C]\-\-input\-file=file\f[]
.PP
Read URLs from a local or external file.
If \- is specified as file, URLs are read from the standard input.
(Use ./\- to read from a file literally named \-.)
.PP
If this function is used, no URLs need be present on the command line.
If there are URLs both on the command line and in an input file, those
on the command lines will be the first ones to be retrieved.
\f[C]file\f[] is expected to contain one URL per line, except one of the
\-\-force\- options specifies a different format.
.PP
If you specify \-\-force\-html, the document will be regarded as HTML.
In that case you may have problems with relative links, which you can
solve either by adding "" to the documents or by specifying \-\-base=url
on the command line.
.PP
If you specify \f[C]\-\-force\-css\f[], the document will be regarded as
CSS.
.PP
If you specify \f[C]\-\-force\-sitemap\f[], the document will be
regarded as XML sitemap.
.PP
If you specify \f[C]\-\-force\-atom\f[], the document will be regarded
as Atom Feed.
.PP
If you specify \f[C]\-\-force\-rss\f[], the document will be regarded as
RSS Feed.
.PP
If you specify \f[C]\-\-force\-metalink\f[], the document will be
regarded as Metalink description.
.PP
If you have problems with relative links, you should use \-\-base=url on
the command line.
.SS \f[C]\-F\f[], \f[C]\-\-force\-html\f[]
.PP
When input is read from a file, force it to be treated as an HTML file.
This enables you to retrieve relative links from existing HTML files on
your local disk, by adding "" to HTML, or using the \-\-base
command\-line option.
.SS \f[C]\-\-force\-css\f[]
.PP
Read and parse the input file as CSS.
This enables you to retrieve links from existing CSS files on your local
disk.
You will need \-\-base to handle relative links correctly.
.SS \f[C]\-\-force\-sitemap\f[]
.PP
Read and parse the input file as sitemap XML.
This enables you to retrieve links from existing sitemap files on your
local disk.
You will need \-\-base to handle relative links correctly.
.SS \f[C]\-\-force\-atom\f[]
.PP
Read and parse the input file as Atom Feed XML.
This enables you to retrieve links from existing sitemap files on your
local disk.
You will need \-\-base to handle relative links correctly.
.SS \f[C]\-\-force\-rss\f[]
.PP
Read and parse the input file as RSS Feed XML.
This enables you to retrieve links from existing sitemap files on your
local disk.
You will need \-\-base to handle relative links correctly.
.SS \f[C]\-\-force\-metalink\f[]
.PP
Read and parse the input file as Metalink.
This enables you to retrieve links from existing Metalink files on your
local disk.
You will need \-\-base to handle relative links correctly.
.SS \f[C]\-B\f[], \f[C]\-\-base=URL\f[]
.PP
Resolves relative links using URL as the point of reference, when
reading links from an HTML file specified via the \-i/\-\-input\-file
option (together with a \-\-force...
option, or when the input file was fetched remotely from a server
describing it as HTML, CSS, Atom or RSS).
This is equivalent to the presence of a "BASE" tag in the HTML input
file, with URL as the value for the "href" attribute.
.PP
For instance, if you specify \f[C]https://example.com/bar/a.html\f[] for
URL, and Wget2 reads \f[C]\&../baz/b.html\f[] from the input file, it
would be resolved to \f[C]https://example.com/baz/b.html\f[].
.SS \f[C]\-\-config\-file=FILE\f[]
.PP
Specify the location of a configuration file you wish to use.
If you specify more than one file, either by using a comma\-separated
list or several \-\-config\-file options, these files are read in
left\-to\-right order.
Before the first given file is read, the files given in $SYSTEM_WGET2RC,
$WGET2RC and ~/.wget2rc are read in that order.
.PP
\-\-no\-config\-file empties the internal list of config files.
So if you want to prevent reading any config files, give
\-\-no\-config\-file on the command line.
\-\-no\-config\-file followed by \-\-config\-file=file just reads
\f[C]file\f[] and skips reading the default config files.
.PP
Wget will attempt to tilde expand filenames written in the configuration
file on supported platforms.
To use a file that starts with the character literal \[aq]~\[aq], use
"./~" or an absolute path.
.SS \f[C]\-\-rejected\-log=logfile\f[]
.PP
Logs all URL rejections to logfile as comma separated values.
The values include the reason of rejection, the URL and the parent URL
it was found in.
.SS \f[C]\-\-stats\-dns[=[FORMAT:]FILE]\f[]
.PP
Save DNS stats in format \f[C]FORMAT\f[], in file \f[C]FILE\f[].
\f[C]FORMAT\f[] has 3 possible values: \f[C]human\f[], \f[C]csv\f[] and
\f[C]json\f[].
\f[C]\-\f[] is shorthand for \f[C]stdout\f[] and \f[C]h\f[] is shorthand
for \f[C]human\f[].
.SS \f[C]\-\-stats\-tls[=[FORMAT:]FILE]\f[]
.PP
Save TLS stats in format \f[C]FORMAT\f[], in file \f[C]FILE\f[].
\f[C]FORMAT\f[] has 3 possible values: \f[C]human\f[], \f[C]csv\f[] and
\f[C]json\f[].
\f[C]\-\f[] is shorthand for \f[C]stdout\f[] and \f[C]h\f[] is shorthand
for \f[C]human\f[].
.SS \f[C]\-\-stats\-ocsp[=[FORMAT:]FILE]\f[]
.PP
Save OCSP stats in format \f[C]FORMAT\f[], in file \f[C]FILE\f[].
\f[C]FORMAT\f[] has 3 possible values: \f[C]human\f[], \f[C]csv\f[] and
\f[C]json\f[].
\f[C]\-\f[] is shorthand for \f[C]stdout\f[] and \f[C]h\f[] is shorthand
for \f[C]human\f[].
.SS \f[C]\-\-stats\-server[=[FORMAT:]FILE]\f[]
.PP
Save Server stats in format \f[C]FORMAT\f[], in file \f[C]FILE\f[].
\f[C]FORMAT\f[] has 3 possible values: \f[C]human\f[], \f[C]csv\f[] and
\f[C]json\f[].
\f[C]\-\f[] is shorthand for \f[C]stdout\f[] and \f[C]h\f[] is shorthand
for \f[C]human\f[].
.SS \f[C]\-\-stats\-site[=[FORMAT:]FILE]\f[]
.PP
Save Site stats in format \f[C]FORMAT\f[], in file \f[C]FILE\f[].
\f[C]FORMAT\f[] has 4 possible values: \f[C]human\f[], \f[C]csv\f[],
\f[C]json\f[] and \f[C]tree\f[].
\f[C]\-\f[] is shorthand for \f[C]stdout\f[] and \f[C]h\f[] is shorthand
for \f[C]human\f[].
.SS \f[C]\-\-stats\-all[=[FORMAT:]FILE]\f[]
.PP
Save DNS, TLS, OCSP, Server and Site stats in format \f[C]FORMAT\f[], in
file \f[C]FILE\f[].
\f[C]FORMAT\f[] has 3 possible values: \f[C]human\f[], \f[C]csv\f[] and
\f[C]json\f[].
\f[C]\-\f[] is shorthand for \f[C]stdout\f[] and \f[C]h\f[] is shorthand
for \f[C]human\f[].
.SS Download Options
.SS \f[C]\-\-bind\-address=ADDRESS\f[]
.PP
When making client TCP/IP connections, bind to ADDRESS on the local
machine.
ADDRESS may be specified as a hostname or IP address.
This option can be useful if your machine is bound to multiple IPs.
.SS \f[C]\-t\f[],\f[C]\-\-tries=number\f[]
.PP
Set number of tries to number.
Specify 0 or inf for infinite retrying.
The default is to retry 20 times, with the exception of fatal errors
like "connection refused" or "not found" (404), which are not retried.
.SS \f[C]\-O\f[],\f[C]\-\-output\-document=file\f[]
.PP
The documents will not be written to the appropriate files, but all will
be concatenated together and written to file.
If \- is used as file, documents will be printed to standard output,
disabling link conversion.
(Use ./\- to print to a file literally named \-.)
.PP
Using \-r or \-p with \-O may not work as you expect: Wget2 won\[aq]t
just download the first file to file and then download the rest to their
normal names: all downloaded content will be placed in file.
.PP
A combination with \-nc is only accepted if the given output file does
not exist.
.PP
When used along with the \-c option, Wget2 will attempt to continue
downloading the file whose name is passed to the option, irrespective of
whether the actual file already exists on disk or not.
This allows users to download a file with a temporary name alongside the
actual file.
.PP
Note that a combination with \-k is only permitted when downloading a
single document, as in that case it will just convert all relative URIs
to external ones; \-k makes no sense for multiple URIs when they\[aq]re
all being downloaded to a single file; \-k can be used only when the
output is a regular file.
.PP
Compatibility\-Note: Wget 1.x used to treat \-O as analogous to shell
redirection.
Wget2 does not handle the option similarly.
Hence, the file will not always be newly created.
The file\[aq]s timestamps will not be affected unless it is actually
written to.
As a result, both \-c and \-N options are now supported in conjunction
with this option.
.SS \f[C]\-nc\f[], \f[C]\-\-no\-clobber\f[]
.PP
If a file is downloaded more than once in the same directory,
Wget2\[aq]s behavior depends on a few options, including \f[C]\-nc\f[].
In certain cases, the local file will be clobbered, or overwritten, upon
repeated download.
In other cases it will be preserved.
.PP
When running Wget2 without \f[C]\-N\f[], \f[C]\-nc\f[], \f[C]\-r\f[], or
\f[C]\-p\f[], downloading the same file in the same directory will
result in the original copy of file being preserved and the second copy
being named file.1.
If that file is downloaded yet again, the third copy will be named
file.2, and so on.
(This is also the behavior with \-nd, even if \-r or \-p are in effect.)
When \f[C]\-nc\f[] is specified, this behavior is suppressed, and Wget2
will refuse to download newer copies of file.
Therefore, ""no\-clobber"" is actually a misnomer in this
mode\-\-\-it\[aq]s not clobbering that\[aq]s prevented (as the numeric
suffixes were already preventing clobbering), but rather the multiple
version saving that\[aq]s prevented.
.PP
When running Wget2 with \f[C]\-r\f[] or \f[C]\-p\f[], but without
\f[C]\-N\f[], \f[C]\-nd\f[], or \f[C]\-nc\f[], re\-downloading a file
will result in the new copy simply overwriting the old.
Adding \-nc will prevent this behavior, instead causing the original
version to be preserved and any newer copies on the server to be
ignored.
.PP
When running Wget2 with \f[C]\-N\f[], with or without \f[C]\-r\f[] or
\f[C]\-p\f[], the decision as to whether or not to download a newer copy
of a file depends on the local and remote timestamp and size of the
file.
\-nc may not be specified at the same time as \-N.
.PP
A combination with \f[C]\-O\f[]/\f[C]\-\-output\-document\f[] is only
accepted if the given output file does not exist.
.PP
Note that when \-nc is specified, files with the suffixes .html or .htm
will be loaded from the local disk and parsed as if they had been
retrieved from the Web.
.SS \f[C]\-\-backups=backups\f[]
.PP
Before (over)writing a file, back up an existing file by adding a .1
suffix (_1 on VMS) to the file name.
Such backup files are rotated to .2, .3, and so on, up to
\f[C]backups\f[] (and lost beyond that).
.SS \f[C]\-c\f[], \f[C]\-\-continue\f[]
.PP
Continue getting a partially\-downloaded file.
This is useful when you want to finish up a download started by a
previous instance of Wget2, or by another program.
For instance:
.IP
.nf
\f[C]
\ \ wget2\ \-c\ https://example.com/tarball.gz
\f[]
.fi
.PP
If there is a file named \f[C]tarball.gz\f[] in the current directory,
Wget2 will assume that it is the first portion of the remote file, and
will ask the server to continue the retrieval from an offset equal to
the length of the local file.
.PP
Note that you don\[aq]t need to specify this option if you just want the
current invocation of Wget2 to retry downloading a file should the
connection be lost midway through.
This is the default behavior.
\-c only affects resumption of downloads started prior to this
invocation of Wget2, and whose local files are still sitting around.
.PP
Without \-c, the previous example would just download the remote file to
\f[C]tarball.gz.1\f[], leaving the truncated \f[C]tarball.gz\f[] file
alone.
.PP
If you use \-c on a non\-empty file, and it turns out that the server
does not support continued downloading, Wget2 will refuse to start the
download from scratch, which would effectively ruin existing contents.
If you really want the download to start from scratch, remove the file.
.PP
If you use \-c on a file which is of equal size as the one on the
server, Wget2 will refuse to download the file and print an explanatory
message.
The same happens when the file is smaller on the server than locally
(presumably because it was changed on the server since your last
download attempt)\-\-\-because "continuing" is not meaningful, no
download occurs.
.PP
On the other side of the coin, while using \-c, any file that\[aq]s
bigger on the server than locally will be considered an incomplete
download and only "(length(remote) \- length(local))" bytes will be
downloaded and tacked onto the end of the local file.
This behavior can be desirable in certain cases\-\-\-for instance, you
can use \f[C]wget2\ \-c\f[] to download just the new portion that\[aq]s
been appended to a data collection or log file.
.PP
However, if the file is bigger on the server because it\[aq]s been
changed, as opposed to just appended to, you\[aq]ll end up with a
garbled file.
Wget2 has no way of verifying that the local file is really a valid
prefix of the remote file.
You need to be especially careful of this when using \-c in conjunction
with \-r, since every file will be considered as an "incomplete
download" candidate.
.PP
Another instance where you\[aq]ll get a garbled file if you try to use
\-c is if you have a lame HTTP proxy that inserts a "transfer
interrupted" string into the local file.
In the future a "rollback" option may be added to deal with this case.
.PP
Note that \f[C]\-c\f[] only works with FTP servers and with HTTP servers
that support the "Range" header.
.SS \f[C]\-\-start\-pos=OFFSET\f[]
.PP
Start downloading at zero\-based position \f[C]OFFSET\f[].
Offset may be expressed in bytes, kilobytes with the
\f[C]k\[aq]\ \ \ suffix,\ or\ megabytes\ with\ the\f[]m\[aq] suffix,
etc.
.PP
\f[C]\-\-start\-pos\f[] has higher precedence over
\f[C]\-\-continue\f[].
When \f[C]\-\-start\-pos\f[] and \f[C]\-\-continue\f[] are both
specified, Wget2 will emit a warning then proceed as if
\f[C]\-\-continue\f[] was absent.
.PP
Server support for continued download is required, otherwise
\-\-start\-pos cannot help.
See \-c for details.
.SS \f[C]\-\-progress=type\f[]
.PP
Select the type of the progress indicator you wish to use.
Legal indicators are "dot" and "bar".
.PP
The "bar" indicator is used by default.
It draws an ASCII progress bar graphics (a.k.a "thermometer" display)
indicating the status of retrieval.
If the output is not a TTY, the "dot" bar will be used by default.
.PP
Use \f[C]\-\-progress=dot\f[] to switch to the "dot" display.
It traces the retrieval by printing dots on the screen, each dot
representing a fixed amount of downloaded data.
.PP
The progress type can also take one or more parameters.
The parameters vary based on the type selected.
Parameters to type are passed by appending them to the type sperated by
a colon (\f[C]:\f[]) like this:
\f[C]\-\-progress=type:parameter1:parameter2\f[].
.PP
When using the dotted retrieval, you may set the style by specifying the
type as dot:style.
Different styles assign different meaning to one dot.
With the "default" style each dot represents 1K, there are ten dots in a
cluster and 50 dots in a line.
The "binary" style has a more "computer"\-like orientation\-\-\-8K dots,
16\-dots clusters and 48 dots per line (which makes for 384K lines).
The "mega" style is suitable for downloading large files\-\-\-each dot
represents 64K retrieved, there are eight dots in a cluster, and 48 dots
on each line (so each line contains 3M).
If "mega" is not enough then you can use the "giga" style\-\-\-each dot
represents 1M retrieved, there are eight dots in a cluster, and 32 dots
on each line (so each line contains 32M).
.PP
With \f[C]\-\-progress=bar\f[], there are currently two possible
parameters, \f[C]force\f[] and \f[C]noscroll\f[].
.PP
When the output is not a TTY, the progress bar always falls back to
"dot", even if \f[C]\-\-progress=bar\f[] was passed to Wget2 during
invokation.
This behaviour can be overridden and the "bar" output forced by using
the "force" parameter as \f[C]\-\-progress=bar:force\f[].
.PP
By default, the bar style progress bar scroll the name of the file from
left to right for the file being downloaded if the filename exceeds the
maximum length allotted for its display.
In certain cases, such as with \-\-progress=bar:force, one may not want
the scrolling filename in the progress bar.
By passing the "noscroll" parameter, Wget2 can be forced to display as
much of the filename as possible without scrolling through it.
.PP
Note that you can set the default style using the "progress" command in
\&.wgetrc.
That setting may be overridden from the command line.
For example, to force the bar output without scrolling, use
\-\-progress=bar:force:noscroll.
.SS \f[C]\-\-show\-progress\f[]
.PP
Force Wget2 to display the progress bar in any verbosity.
.PP
By default, Wget2 only displays the progress bar in verbose mode.
One may however, want Wget2 to display the progress bar on screen in
conjunction with any other verbosity modes like \-\-no\-verbose or
\-\-quiet.
This is often a desired a property when invoking Wget2 to download
several small/large files.
In such a case, Wget2 could simply be invoked with this parameter to get
a much cleaner output on the screen.
.PP
This option will also force the progress bar to be printed to stderr
when used alongside the \-\-logfile option.
.SS \f[C]\-N\f[], \f[C]\-\-timestamping\f[]
.PP
Turn on time\-stamping.
.SS \f[C]\-\-no\-if\-modified\-since\f[]
.PP
Do not send If\-Modified\-Since header in \-N mode.
Send preliminary HEAD request instead.
This has only effect in \-N mode.
.SS \f[C]\-\-no\-use\-server\-timestamps\f[]
.PP
Don\[aq]t set the local file\[aq]s timestamp by the one on the server.
.PP
By default, when a file is downloaded, its timestamps are set to match
those from the remote file.
This allows the use of \-\-timestamping on subsequent invocations of
Wget2.
However, it is sometimes useful to base the local file\[aq]s timestamp
on when it was actually downloaded; for that purpose, the
\-\-no\-use\-server\-timestamps option has been provided.
.SS \f[C]\-S\f[], \f[C]\-\-server\-response\f[]
.PP
Print the headers sent by HTTP servers and responses sent by FTP
servers.
.SS \f[C]\-\-spider\f[]
.PP
When invoked with this option, Wget2 will behave as a Web spider, which
means that it will not download the pages, just check that they are
there.
For example, you can use Wget2 to check your bookmarks:
.IP
.nf
\f[C]
\ \ wget2\ \-\-spider\ \-\-force\-html\ \-i\ bookmarks.html
\f[]
.fi
.PP
This feature needs much more work for Wget2 to get close to the
functionality of real web spiders.
.SS \f[C]\-T\ seconds\f[], \f[C]\-\-timeout=seconds\f[]
.PP
Set the network timeout to seconds seconds.
This is equivalent to specifying \f[C]\-\-dns\-timeout\f[],
\f[C]\-\-connect\-timeout\f[], and \f[C]\-\-read\-timeout\f[], all at
the same time.
.PP
When interacting with the network, Wget2 can check for timeout and abort
the operation if it takes too long.
This prevents anomalies like hanging reads and infinite connects.
The only timeout enabled by default is a 900\-second read timeout.
Setting a timeout to 0 disables it altogether.
Unless you know what you are doing, it is best not to change the default
timeout settings.
.PP
All timeout\-related options accept decimal values, as well as subsecond
values.
For example, 0.1 seconds is a legal (though unwise) choice of timeout.
Subsecond timeouts are useful for checking server response times or for
testing network latency.
.SS \f[C]\-\-dns\-timeout=seconds\f[]
.PP
Set the DNS lookup timeout to seconds seconds.
DNS lookups that don\[aq]t complete within the specified time will fail.
By default, there is no timeout on DNS lookups, other than that
implemented by system libraries.
.SS \f[C]\-\-connect\-timeout=seconds\f[]
.PP
Set the connect timeout to seconds seconds.
TCP connections that take longer to establish will be aborted.
By default, there is no connect timeout, other than that implemented by
system libraries.
.SS \f[C]\-\-read\-timeout=seconds\f[]
.PP
Set the read (and write) timeout to seconds seconds.
The "time" of this timeout refers to idle time: if, at any point in the
download, no data is received for more than the specified number of
seconds, reading fails and the download is restarted.
This option does not directly affect the duration of the entire
download.
.PP
Of course, the remote server may choose to terminate the connection
sooner than this option requires.
The default read timeout is 900 seconds.
.SS \f[C]\-\-limit\-rate=amount\f[]
.PP
Limit the download speed to amount bytes per second.
Amount may be expressed in bytes, kilobytes with the k suffix, or
megabytes with the m suffix.
For example, \-\-limit\-rate=20k will limit the retrieval rate to
20KB/s.
This is useful when, for whatever reason, you don\[aq]t want Wget2 to
consume the entire available bandwidth.
.PP
This option allows the use of decimal numbers, usually in conjunction
with power suffixes; for example, \-\-limit\-rate=2.5k is a legal value.
.PP
Note that Wget2 implements the limiting by sleeping the appropriate
amount of time after a network read that took less time than specified
by the rate.
Eventually this strategy causes the TCP transfer to slow down to
approximately the specified rate.
However, it may take some time for this balance to be achieved, so
don\[aq]t be surprised if limiting the rate doesn\[aq]t work well with
very small files.
.SS \f[C]\-w\ seconds\f[], \f[C]\-\-wait=seconds\f[]
.PP
Wait the specified number of seconds between the retrievals.
Use of this option is recommended, as it lightens the server load by
making the requests less frequent.
Instead of in seconds, the time can be specified in minutes using the
"m" suffix, in hours using "h" suffix, or in days using "d" suffix.
.PP
Specifying a large value for this option is useful if the network or the
destination host is down, so that Wget2 can wait long enough to
reasonably expect the network error to be fixed before the retry.
The waiting interval specified by this function is influenced by
"\-\-random\-wait", which see.
.SS \f[C]\-\-waitretry=seconds\f[]
.PP
If you don\[aq]t want Wget2 to wait between every retrieval, but only
between retries of failed downloads, you can use this option.
Wget2 will use linear backoff, waiting 1 second after the first failure
on a given file, then waiting 2 seconds after the second failure on that
file, up to the maximum number of seconds you specify.
.PP
By default, Wget2 will assume a value of 10 seconds.
.SS \f[C]\-\-random\-wait\f[]
.PP
Some web sites may perform log analysis to identify retrieval programs
such as Wget2 by looking for statistically significant similarities in
the time between requests.
This option causes the time between requests to vary between 0.5 and 1.5
### wait seconds, where wait was specified using the \-\-wait option, in
order to mask Wget2\[aq]s presence from such analysis.
.PP
A 2001 article in a publication devoted to development on a popular
consumer platform provided code to perform this analysis on the fly.
Its author suggested blocking at the class C address level to ensure
automated retrieval programs were blocked despite changing
DHCP\-supplied addresses.
.PP
The \f[C]\-\-random\-wait\f[] option was inspired by this ill\-advised
recommendation to block many unrelated users from a web site due to the
actions of one.
.SS \f[C]\-\-no\-proxy\f[]
.PP
Don\[aq]t use proxies, even if the appropriate *_proxy environment
variable is defined.
.SS \f[C]\-Q\ quota\f[], \f[C]\-\-quota=quota\f[]
.PP
Specify download quota for automatic retrievals.
The value can be specified in bytes (default), kilobytes (with k
suffix), or megabytes (with m suffix).
.PP
Note that quota will never affect downloading a single file.
So if you specify
.IP
.nf
\f[C]
\ \ wget2\ \-Q10k\ https://example.com/bigfile.gz
\f[]
.fi
.PP
all of the \f[C]bigfile.gz\f[] will be downloaded.
The same goes even when several URLs are specified on the command\-line.
However, quota is respected when retrieving either recursively, or from
an input file.
Thus you may safely type
.IP
.nf
\f[C]
\ \ wget2\ \-Q2m\ \-i\ sites
\f[]
.fi
.PP
download will be aborted when the quota is exceeded.
.PP
Setting quota to \f[C]0\f[] or to \f[C]inf\f[] unlimits the download
quota.
.SS \f[C]\-\-no\-dns\-cache\f[]
.PP
Turn off caching of DNS lookups.
Normally, Wget2 remembers the IP addresses it looked up from DNS so it
doesn\[aq]t have to repeatedly contact the DNS server for the same
(typically small) set of hosts it retrieves from.
This cache exists in memory only; a new Wget2 run will contact DNS
again.
.PP
However, it has been reported that in some situations it is not
desirable to cache host names, even for the duration of a short\-running
application like Wget2.
With this option Wget2 issues a new DNS lookup (more precisely, a new
call to "gethostbyname" or "getaddrinfo") each time it makes a new
connection.
Please note that this option will not affect caching that might be
performed by the resolving library or by an external caching layer, such
as NSCD.
.PP
If you don\[aq]t understand exactly what this option does, you probably
won\[aq]t need it.
.SS \f[C]\-\-restrict\-file\-names=modes\f[]
.PP
Change which characters found in remote URLs must be escaped during
generation of local filenames.
Characters that are restricted by this option are escaped, i.e.
replaced with %HH, where HH is the hexadecimal number that corresponds
to the restricted character.
This option may also be used to force all alphabetical cases to be
either lower\- or uppercase.
.PP
By default, Wget2 escapes the characters that are not valid or safe as
part of file names on your operating system, as well as control
characters that are typically unprintable.
This option is useful for changing these defaults, perhaps because you
are downloading to a non\-native partition, or because you want to
disable escaping of the control characters, or you want to further
restrict characters to only those in the ASCII range of values.
.PP
The modes are a comma\-separated set of text values.
The acceptable values are unix, windows, nocontrol, ascii, lowercase,
and uppercase.
The values unix and windows are mutually exclusive (one will override
the other), as are lowercase and uppercase.
Those last are special cases, as they do not change the set of
characters that would be escaped, but rather force local file paths to
be converted either to lower\- or uppercase.
.PP
When "unix" is specified, Wget2 escapes the character / and the control
characters in the ranges 0\-\-31 and 128\-\-159.
This is the default on Unix\-like operating systems.
.PP
When "windows" is given, Wget2 escapes the characters , |, /, :, ?, ",
*, <, >, and the control characters in the ranges 0\-\-31 and
128\-\-159.
In addition to this, Wget2 in Windows mode uses + instead of : to
separate host and port in local file names, and uses \@ instead of ?
to separate the query portion of the file name from the rest.
Therefore, a URL that would be saved as
\f[C]www.xemacs.org:4300/search.pl?input=blah\f[] in Unix mode would be
saved as \f[C]www.xemacs.org+4300/search.pl\@input=blah\f[] in Windows
mode.
This mode is the default on Windows.
.PP
If you specify nocontrol, then the escaping of the control characters is
also switched off.
This option may make sense when you are downloading URLs whose names
contain UTF\-8 characters, on a system which can save and display
filenames in UTF\-8 (some possible byte values used in UTF\-8 byte
sequences fall in the range of values designated by Wget2 as
"controls").
.PP
The ascii mode is used to specify that any bytes whose values are
outside the range of ASCII characters (that is, greater than 127) shall
be escaped.
This can be useful when saving filenames whose encoding does not match
the one used locally.
.SS \f[C]\-4,\ \-\-inet4\-only,\ \-6,\ \-\-inet6\-only\f[]
.PP
Force connecting to IPv4 or IPv6 addresses.
With \-\-inet4\-only or \-4, Wget2 will only connect to IPv4 hosts,
ignoring AAAA records in DNS, and refusing to connect to IPv6 addresses
specified in URLs.
Conversely, with \-\-inet6\-only or \-6, Wget2 will only connect to IPv6
hosts and ignore A records and IPv4 addresses.
.PP
Neither options should be needed normally.
By default, an IPv6\-aware Wget2 will use the address family specified
by the host\[aq]s DNS record.
If the DNS responds with both IPv4 and IPv6 addresses, Wget2 will try
them in sequence until it finds one it can connect to.
(Also see "\-\-prefer\-family" option described below.)
.PP
These options can be used to deliberately force the use of IPv4 or IPv6
address families on dual family systems, usually to aid debugging or to
deal with broken network configuration.
Only one of \-\-inet6\-only and \-\-inet4\-only may be specified at the
same time.
Neither option is available in Wget2 compiled without IPv6 support.
.SS \f[C]\-\-prefer\-family=none/IPv4/IPv6\f[]
.PP
When given a choice of several addresses, connect to the addresses with
specified address family first.
The address order returned by DNS is used without change by default.
.PP
This avoids spurious errors and connect attempts when accessing hosts
that resolve to both IPv6 and IPv4 addresses from IPv4 networks.
For example, www.kame.net resolves to 2001:200:0:8002:203:47ff:fea5:3085
and to 203.178.141.194.
When the preferred family is "IPv4", the IPv4 address is used first;
when the preferred family is "IPv6", the IPv6 address is used first; if
the specified value is "none", the address order returned by DNS is used
without change.
.PP
Unlike \-4 and \-6, this option doesn\[aq]t inhibit access to any
address family, it only changes the order in which the addresses are
accessed.
Also note that the reordering performed by this option is stable\-\-\-it
doesn\[aq]t affect order of addresses of the same family.
That is, the relative order of all IPv4 addresses and of all IPv6
addresses remains intact in all cases.
.SS \f[C]\-\-retry\-connrefused\f[]
.PP
Consider "connection refused" a transient error and try again.
Normally Wget2 gives up on a URL when it is unable to connect to the
site because failure to connect is taken as a sign that the server is
not running at all and that retries would not help.
This option is for mirroring unreliable sites whose servers tend to
disappear for short periods of time.
.SS \f[C]\-\-user=user\f[], \f[C]\-\-password=password\f[]
.PP
Specify the username user and password password for both FTP and HTTP
file retrieval.
This overrides the lookup of credentials in the .netrc file (\-\-netrc
is enabled by default).
These parameters can be overridden using the \-\-http\-user and
\-\-http\-password options for HTTP(S) connections.
.PP
If neither \-\-http\-proxy\-user nor \-\-http\-proxy\-password is given
these settings are also taken for proxy authentication.
.SS \f[C]\-\-ask\-password\f[]
.PP
Prompt for a password on the command line.
Overrides the password set by \-\-password (if any).
.SS \f[C]\-\-use\-askpass=command\f[]
.PP
Prompt for a user and password using the specified command.
Overrides the user and/or password set by \-\-user/\-\-password (if
any).
.SS \f[C]\-\-no\-iri\f[]
.PP
Turn off internationalized URI (IRI) support.
Use \-\-iri to turn it on.
IRI support is activated by default.
.PP
You can set the default state of IRI support using the "iri" command in
\&.wgetrc.
That setting may be overridden from the command line.
.SS \f[C]\-\-local\-encoding=encoding\f[]
.PP
Force Wget2 to use encoding as the default system encoding.
That affects how Wget2 converts URLs specified as arguments from locale
to UTF\-8 for IRI support.
.PP
Wget2 use the function "nl_langinfo()" and then the "CHARSET"
environment variable to get the locale.
If it fails, ASCII is used.
.PP
You can set the default local encoding using the "local_encoding"
command in .wgetrc.
That setting may be overridden from the command line.
.SS \f[C]\-\-remote\-encoding=encoding\f[]
.PP
Force Wget2 to use encoding as the default remote server encoding.
That affects how Wget2 converts URIs found in files from remote encoding
to UTF\-8 during a recursive fetch.
This options is only useful for IRI support, for the interpretation of
non\-ASCII characters.
.PP
For HTTP, remote encoding can be found in HTTP "Content\-Type" header
and in HTML "Content\-Type http\-equiv" meta tag.
.PP
You can set the default encoding using the "remoteencoding" command in
\&.wgetrc.
That setting may be overridden from the command line.
.SS \f[C]\-\-unlink\f[]
.PP
Force Wget2 to unlink file instead of clobbering existing file.
This option is useful for downloading to the directory with hardlinks.
.SS \f[C]\-\-cut\-url\-get\-vars\f[]
.PP
Remove HTTP GET Variables from URLs.
For example "main.css?v=123" will be changed to "main.css".
Be aware that this may have unintended side effects, for example
"image.php?name=sun" will be changed to "image.php".
The cutting happens before adding the URL to the download queue.
.SS \f[C]\-\-cut\-file\-get\-vars\f[]
.PP
Remove HTTP GET Variables from filenames.
For example "main.css?v=123" will be changed to "main.css".
.PP
Be aware that this may have unintended side effects, for example
"image.php?name=sun" will be changed to "image.php".
The cutting happens when saving the file, after downloading.
.PP
File names obtained from a "Content\-Disposition" header are not
affected by this setting (see \-\-content\-disposition), and can be a
solution for this problem.
.PP
When "\-\-trust\-server\-names" is used, the redirection URL is affected
by this setting.
.SS \f[C]\-\-chunk\-size=size\f[]
.PP
Download large files in multithreaded chunks.
This switch specifies the size of the chunks, given in bytes if no other
byte multiple unit is specified.
By default it\[aq]s set on 0/off.
.SS \f[C]\-\-max\-threads=number\f[]
.PP
Specifies the maximum number of concurrent download threads for a
resource.
The default is 5 but if you want to allow more or fewer this is the
option to use.
.SS \f[C]\-s\f[], \f[C]\-\-verify\-sig\f[]
.PP
Enable PGP signature verification.
When enabled Wget2 will attempt to download and verify PGP signatures
against their corresponding files.
Any file downloaded that has a content type of \f[C]application/*\f[]
will have an additional request added for \f[C]<name>.sig\f[].
If the content type for the signature request is
\f[C]application/pgp\-signature\f[], Wget2 will attempt to verify the
signature against the original file.
.SS \f[C]\-\-gnupg\-homedir\f[]
.PP
Specifies the gnupg home directory to use when verifying PGP signatures
on downloaded files.
The default for this is your system\[aq]s default home directory.
.SS \f[C]\-\-xattr\f[]
.PP
Saves documents metadata as "user POSIX Extended Attributes" (default:
on).
This feature only works if the file system supports it.
More info on https://freedesktop.org/wiki/CommonExtendedAttributes.
.PP
Wget2 currently sets * user.xdg.origin.url * user.xdg.referrer.url *
user.mime_type * user.charset
.PP
To display the extended attributes of a file (Linux):
\f[C]getfattr\ \-d\ <file>\f[]
.SS Directory Options
.SS \f[C]\-nd\f[], \f[C]\-\-no\-directories\f[]
.PP
Do not create a hierarchy of directories when retrieving recursively.
With this option turned on, all files will get saved to the current
directory, without clobbering (if a name shows up more than once, the
filenames will get extensions .n).
.SS \f[C]\-x\f[], \f[C]\-\-force\-directories\f[]
.PP
The opposite of \f[C]\-nd\f[]\-\-\-create a hierarchy of directories,
even if one would not have been created otherwise.
E.g.
\f[C]wget2\ \-x\ https://example.com/robots.txt\f[] will save the
downloaded file to \f[C]example.com/robots.txt\f[].
.SS \f[C]\-nH\f[], \f[C]\-\-no\-host\-directories\f[]
.PP
Disable generation of host\-prefixed directories.
By default, invoking Wget2 with \f[C]\-r\ https://example.com/\f[] will
create a structure of directories beginning with \f[C]example.com/\f[].
This option disables such behavior.
.SS \f[C]\-\-protocol\-directories\f[]
.PP
Use the protocol name as a directory component of local file names.
For example, with this option,
\f[C]wget2\ \-r\ \ \ https://example.com\f[] will save to
\f[C]https/example.com/...\f[] rather than just to
\f[C]example.com/...\f[].
.SS \f[C]\-\-cut\-dirs=number\f[]
.PP
Ignore a number of directory components.
This is useful for getting a fine\-grained control over the directory
where recursive retrieval will be saved.
.PP
Take, for example, the directory at https://example.com/pub/sub/.
If you retrieve it with \f[C]\-r\f[], it will be saved locally under
\f[C]example.com/pub/sub/\f[].
While the \f[C]\-nH\f[] option can remove the \f[C]example.com/\f[]
part, you are still stuck with \f[C]pub/sub/\f[].
This is where \f[C]\-\-cut\-dirs\f[] comes in handy; it makes Wget2 not
"see" a number of remote directory components.
Here are several examples of how \f[C]\-\-cut\-dirs\f[] option works.
\f[C]No\ options\ \ \ \ \ \ \ \ \->\ example.com/pub/sub/\ \ \ \ \ \ \-\-cut\-dirs=1\ \ \ \ \ \ \->\ example.com/sub/\ \ \ \ \ \ \-\-cut\-dirs=2\ \ \ \ \ \ \->\ example.com/\ \ \ \ \ \ \-nH\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \->\ pub/sub/\ \ \ \ \ \ \-nH\ \-\-cut\-dirs=1\ \ \->\ sub/\ \ \ \ \ \ \-nH\ \-\-cut\-dirs=2\ \ \->\ .\f[]
If you just want to get rid of the directory structure, this option is
similar to a combination of \f[C]\-nd\f[] and \f[C]\-P\f[].
However, unlike \f[C]\-nd\f[], \f[C]\-\-cut\-dirs\f[] does not lose with
subdirectories.
For instance, with \f[C]\-nH\ \-\-cut\-dirs=1\f[], a \f[C]beta/\f[]
subdirectory will be placed to \f[C]sub/beta/\f[], as one would expect.
.SS \f[C]\-P\ prefix\f[], \f[C]\-\-directory\-prefix=prefix\f[]
.PP
Set directory prefix to prefix.
The directory prefix is the directory where all other files and
subdirectories will be saved to, i.e.
the top of the retrieval tree.
The default is .
(the current directory).
.SS HTTP Options
.SS \f[C]\-\-default\-page=name\f[]
.PP
Use name as the default file name when it isn\[aq]t known (i.e., for
URLs that end in a slash), instead of \f[C]index.html\f[].
.SS \f[C]\-E\f[], \f[C]\-\-adjust\-extension\f[]
.PP
If a file of type \f[C]application/xhtml+xml\f[] or \f[C]text/html\f[]
is downloaded and the URL does not end with the regexp
\f[C]\\.[Hh][Tt][Mm][Ll]?\f[], this option will cause the suffix
\f[C]\&.html\f[] to be appended to the local filename.
This is useful, for instance, when you\[aq]re mirroring a remote site
that uses .asp pages, but you want the mirrored pages to be viewable on
your stock Apache server.
Another good use for this is when you\[aq]re downloading CGI\-generated
materials.
A URL like \f[C]https://example.com/article.cgi?25\f[] will be saved as
\f[C]article.cgi?25.html\f[].
.PP
Note that filenames changed in this way will be re\-downloaded every
time you re\-mirror a site, because Wget2 can\[aq]t tell that the local
\f[C]X.html\f[] file corresponds to remote URL X (since it doesn\[aq]t
yet know that the URL produces output of type \f[C]text/html\f[] or
\f[C]application/xhtml+xml\f[].
.PP
Wget2 will also ensure that any downloaded files of type
\f[C]text/css\f[] end in the suffix \f[C]\&.css\f[].
.PP
At some point in the future, this option may well be expanded to include
suffixes for other types of content, including content types that are
not parsed by Wget.
.SS \f[C]\-\-http\-user=user\f[], \f[C]\-\-http\-password=password\f[]
.PP
Specify the user and password for HTTP authentication.
According to the type of the challenge, Wget will encode them using
either the "basic" (insecure), the "digest", or the Windows "NTLM"
authentication scheme.
.PP
If possible, put your credentials into \f[C]~/.netrc\f[] (see also
\f[C]\-\-netrc\f[] and \f[C]\-\-netrc\-file\f[] options) or into
\f[C]~/.wgetrc\f[].
This is far more secure than using the command line which can be seen by
any other user.
If the passwords are really important, do not leave them lying in those
files either.
Edit the files and delete them after Wget2 has started the download.
.PP
Also see \f[C]\-\-use\-askpass\f[] and \f[C]\-\-ask\-password\f[] for an
interactive method to provide your password.
.SS \f[C]\-\-http\-proxy\-user=user\f[],
\f[C]\-\-http\-proxy\-password=password\f[]
.PP
Specify the user and password for HTTP proxy authentication.
See \f[C]\-\-http\-user\f[] for details.
.SS \f[C]\-\-no\-http\-keep\-alive\f[]
.PP
Turn off the "keep\-alive" feature for HTTP(S) downloads.
Normally, Wget2 asks the server to keep the connection open so that,
when you download more than one document from the same server, they get
transferred over the same TCP connection.
This saves time and at the same time reduces the load on the server.
.PP
This option is useful when, for some reason, persistent (keep\-alive)
connections don\[aq]t work for you, for example due to a server bug or
due to the inability of server\-side scripts to cope with the
connections.
.SS \f[C]\-\-no\-cache\f[]
.PP
Disable server\-side cache.
In this case, Wget2 will send the remote server an appropriate directive
(Pragma: no\- cache) to get the file from the remote service, rather
than returning the cached version.
This is especially useful for retrieving and flushing out\-of\-date
documents on proxy servers.
.PP
Caching is allowed by default.
.SS \f[C]\-\-no\-cookies\f[]
.PP
Disable the use of cookies.
Cookies are a mechanism for maintaining server\-side state.
The server sends the client a cookie using the "Set\-Cookie" header, and
the client responds with the same cookie upon further requests.
Since cookies allow the server owners to keep track of visitors and for
sites to exchange this information, some consider them a breach of
privacy.
The default is to use cookies; however, storing cookies is not on by
default.
.SS \f[C]\-\-load\-cookies\ file\f[]
.PP
Load cookies from \f[C]file\f[] before the first HTTP(S) retrieval.
file is a textual file in the format originally used by Netscape\[aq]s
cookies.txt file.
.PP
You will typically use this option when mirroring sites that require
that you be logged in to access some or all of their content.
The login process typically works by the web server issuing an HTTP
cookie upon receiving and verifying your credentials.
The cookie is then resent by the browser when accessing that part of the
site, and so proves your identity.
.PP
Mirroring such a site requires Wget2 to send the same cookies your
browser sends when communicating with the site.
This is achieved by \-\-load\-cookies\-\-\-simply point Wget2 to the
location of the cookies.txt file, and it will send the same cookies your
browser would send in the same situation.
Different browsers keep textual cookie files in different locations:
.PP
"Netscape 4.x." The cookies are in ~/.netscape/cookies.txt.
.PP
"Mozilla and Netscape 6.x." Mozilla\[aq]s cookie file is also named
cookies.txt, located somewhere under ~/.mozilla, in the directory of
your profile.
The full path usually ends up looking somewhat like
~/.mozilla/default/some\-weird\- string/cookies.txt.
.PP
"Internet Explorer." You can produce a cookie file Wget2 can use by
using the File menu, Import and Export, Export Cookies.
This has been tested with Internet Explorer 5; it is not guaranteed to
work with earlier versions.
.PP
"Other browsers." If you are using a different browser to create your
cookies, \-\-load\-cookies will only work if you can locate or produce a
cookie file in the Netscape format that Wget2 expects.
.PP
If you cannot use \f[C]\-\-load\-cookies\f[], there might still be an
alternative.
If your browser supports a "cookie manager", you can use it to view the
cookies used when accessing the site you\[aq]re mirroring.
Write down the name and value of the cookie, and manually instruct Wget2
to send those cookies, bypassing the "official" cookie support:
.IP
.nf
\f[C]
\ \ wget2\ \-\-no\-cookies\ \-\-header\ "Cookie:\ <name>=<value>"
\f[]
.fi
.SS \f[C]\-\-save\-cookies\ file\f[]
.PP
Save cookies to \f[C]file\f[] before exiting.
This will not save cookies that have expired or that have no expiry time
(so\-called "session cookies"), but also see \-\-keep\-session\-cookies.
.SS \f[C]\-\-keep\-session\-cookies\f[]
.PP
When specified, causes \-\-save\-cookies to also save session cookies.
Session cookies are normally not saved because they are meant to be kept
in memory and forgotten when you exit the browser.
Saving them is useful on sites that require you to log in or to visit
the home page before you can access some pages.
With this option, multiple Wget2 runs are considered a single browser
session as far as the site is concerned.
.PP
Since the cookie file format does not normally carry session cookies,
Wget2 marks them with an expiry timestamp of 0.
Wget2\[aq]s \-\-load\-cookies recognizes those as session cookies, but
it might confuse other browsers.
Also note that cookies so loaded will be treated as other session
cookies, which means that if you want \-\-save\-cookies to preserve them
again, you must use \-\-keep\-session\-cookies again.
.SS \f[C]\-\-ignore\-length\f[]
.PP
Unfortunately, some HTTP servers (CGI programs, to be more precise) send
out bogus "Content\-Length" headers, which makes Wget2 go wild, as it
thinks not all the document was retrieved.
You can spot this syndrome if Wget retries getting the same document
again and again, each time claiming that the (otherwise normal)
connection has closed on the very same byte.
.PP
With this option, Wget2 will ignore the "Content\-Length" header\-\-\-as
if it never existed.
.SS \f[C]\-\-header=header\-line\f[]
.PP
Send header\-line along with the rest of the headers in each HTTP
request.
The supplied header is sent as\-is, which means it must contain name and
value separated by colon, and must not contain newlines.
.PP
You may define more than one additional header by specifying \-\-header
more than once.
.IP
.nf
\f[C]
\ \ wget2\ \-\-header=\[aq]Accept\-Charset:\ iso\-8859\-2\[aq]\ \\
\ \ \ \ \ \ \ \-\-header=\[aq]Accept\-Language:\ hr\[aq]\ \ \ \ \ \ \ \ \\
\ \ \ \ \ \ \ \ \ https://example.com/
\f[]
.fi
.PP
Specification of an empty string as the header value will clear all
previous user\-defined headers.
.PP
This option can be used to override headers otherwise generated
automatically.
This example instructs Wget2 to connect to localhost, but to specify
\f[C]example.com\f[] in the "Host" header:
.IP
.nf
\f[C]
\ \ wget2\ \-\-header="Host:\ example.com"\ http://localhost/
\f[]
.fi
.SS \f[C]\-\-max\-redirect=number\f[]
.PP
Specifies the maximum number of redirections to follow for a resource.
The default is 20, which is usually far more than necessary.
However, on those occasions where you want to allow more (or fewer),
this is the option to use.
.SS \f[C]\-\-proxy\-user=user\f[], \f[C]\-\-proxy\-password=password\f[]
.PP
Specify the username user and password password for authentication on a
proxy server.
Wget2 will encode them using the "basic" authentication scheme.
.PP
Security considerations similar to those with
\f[C]\-\-http\-password\f[] pertain here as well.
.SS \f[C]\-\-referer=url\f[]
.PP
Include `Referer: url\[aq] header in HTTP request.
Useful for retrieving documents with server\-side processing that assume
they are always being retrieved by interactive web browsers and only
come out properly when Referer is set to one of the pages that point to
them.
.SS \f[C]\-\-save\-headers\f[]
.PP
Save the headers sent by the HTTP server to the file, preceding the
actual contents, with an empty line as the separator.
.SS \f[C]\-U\ agent\-string\f[], \f[C]\-\-user\-agent=agent\-string\f[]
.PP
Identify as agent\-string to the HTTP server.
.PP
The HTTP protocol allows the clients to identify themselves using a
"User\-Agent" header field.
This enables distinguishing the WWW software, usually for statistical
purposes or for tracing of protocol violations.
Wget normally identifies as Wget/version, version being the current
version number of Wget.
.PP
However, some sites have been known to impose the policy of tailoring
the output according to the "User\-Agent"\-supplied information.
While this is not such a bad idea in theory, it has been abused by
servers denying information to clients other than (historically)
Netscape or, more frequently, Microsoft Internet Explorer.
This option allows you to change the "User\-Agent" line issued by Wget.
Use of this option is discouraged, unless you really know what you are
doing.
.PP
Specifying empty user agent with \-\-user\-agent="" instructs Wget2 not
to send the "User\-Agent" header in HTTP requests.
.SS \f[C]\-\-post\-data=string\f[], \f[C]\-\-post\-file=file\f[]
.PP
Use POST as the method for all HTTP requests and send the specified data
in the request body.
\-\-post\-data sends string as data, whereas \-\-post\-file sends the
contents of file.
Other than that, they work in exactly the same way.
In particular, they both expect content of the form
"key1=value1&key2=value2", with percent\-encoding for special
characters; the only difference is that one expects its content as a
command\-line parameter and the other accepts its content from a file.
In particular, \-\-post\-file is not for transmitting files as form
attachments: those must appear as "key=value" data (with appropriate
percent\-coding) just like everything else.
Wget2 does not currently support "multipart/form\-data" for transmitting
POST data; only "application/x\-www\-form\-urlencoded".
Only one of \-\-post\-data and \-\-post\-file should be specified.
.PP
Please note that wget2 does not require the content to be of the form
"key1=value1&key2=value2", and neither does it test for it.
Wget2 will simply transmit whatever data is provided to it.
Most servers however expect the POST data to be in the above format when
processing HTML Forms.
.PP
When sending a POST request using the \f[C]\-\-post\-file\f[] option,
Wget2 treats the file as a binary file and will send every character in
the POST request without stripping trailing newline or formfeed
characters.
Any other control characters in the text will also be sent as\-is in the
POST request.
.PP
Please be aware that Wget2 needs to know the size of the POST data in
advance.
Therefore the argument to "\-\-post\-file" must be a regular file;
specifying a FIFO or something like /dev/stdin won\[aq]t work.
It\[aq]s not quite clear how to work around this limitation inherent in
HTTP/1.0.
Although HTTP/1.1 introduces chunked transfer that doesn\[aq]t require
knowing the request length in advance, a client can\[aq]t use chunked
unless it knows it\[aq]s talking to an HTTP/1.1 server.
And it can\[aq]t know that until it receives a response, which in turn
requires the request to have been completed \-\- a chicken\-and\-egg
problem.
.PP
If Wget2 is redirected after the POST request is completed, its
behaviour depends on the response code returned by the server.
In case of a 301 Moved Permanently, 302 Moved Temporarily or 307
Temporary Redirect, Wget2 will, in accordance with RFC2616, continue to
send a POST request.
In case a server wants the client to change the Request method upon
redirection, it should send a 303 See Other response code.
.PP
This example shows how to log in to a server using POST and then proceed
to download the desired pages, presumably only accessible to authorized
users:
.IP
.nf
\f[C]
\ \ #\ Log\ in\ to\ the\ server.\ \ This\ can\ be\ done\ only\ once.
\ \ wget2\ \-\-save\-cookies\ cookies.txt\ \\
\ \ \ \ \ \ \ \-\-post\-data\ \ \[aq]user=foo&password=bar\[aq]\ \\
\ \ \ \ \ \ \ http://example.com/auth.php

\ \ #\ Now\ grab\ the\ page\ or\ pages\ we\ care\ about.
\ \ wget2\ \-\-load\-cookies\ cookies.txt\ \\
\ \ \ \ \ \ \ \-p\ http://example.com/interesting/article.php
\f[]
.fi
.PP
If the server is using session cookies to track user authentication, the
above will not work because \f[C]\-\-save\-cookies\f[] will not save
them (and neither will browsers) and the cookies.txt file will be empty.
In that case use \-\-keep\-session\-cookies along with \-\-save\-cookies
to force saving of session cookies.
.SS \f[C]\-\-method=HTTP\-Method\f[]
.PP
For the purpose of RESTful scripting, Wget2 allows sending of other HTTP
Methods without the need to explicitly set them using
\-\-header=Header\-Line.
Wget2 will use whatever string is passed to it after \-\-method as the
HTTP Method to the server.
.SS \f[C]\-\-body\-data=Data\-String\f[],
\f[C]\-\-body\-file=Data\-File\f[]
.PP
Must be set when additional data needs to be sent to the server along
with the Method specified using \f[C]\-\-method\f[].
\f[C]\-\-body\-data\f[] sends string as data, whereas \-\-body\-file
sends the contents of file.
Other than that, they work in exactly the same way.
.PP
Currently, \f[C]\-\-body\-file\f[] is not for transmitting files as a
whole.
Wget2 does not currently support "multipart/form\-data" for transmitting
data; only "application/x\-www\-form\-urlencoded".
In the future, this may be changed so that wget2 sends the
\-\-body\-file as a complete file instead of sending its contents to the
server.
Please be aware that Wget2 needs to know the contents of BODY Data in
advance, and hence the argument to \-\-body\-file should be a regular
file.
See \-\-post\-file for a more detailed explanation.
Only one of \-\-body\-data and \-\-body\-file should be specified.
.PP
If Wget2 is redirected after the request is completed, Wget2 will
suspend the current method and send a GET request till the redirection
is completed.
This is true for all redirection response codes except 307 Temporary
Redirect which is used to explicitly specify that the request method
should not change.
Another exception is when the method is set to "POST", in which case the
redirection rules specified under \f[C]\-\-post\-data\f[] are followed.
.SS \f[C]\-\-content\-disposition\f[]
.PP
If this is set to on, experimental (not fully\-functional) support for
"Content\-Disposition" headers is enabled.
This can currently result in extra round\-trips to the server for a
"HEAD" request, and is known to suffer from a few bugs, which is why it
is not currently enabled by default.
.PP
This option is useful for some file\-downloading CGI programs that use
"Content\-Disposition" headers to describe what the name of a downloaded
file should be.
.SS \f[C]\-\-content\-on\-error\f[]
.PP
If this is set to on, wget2 will not skip the content when the server
responds with a http status code that indicates error.
.SS \f[C]\-\-trust\-server\-names\f[]
.PP
If this is set to on, on a redirect the last component of the
redirection URL will be used as the local file name.
By default it is used the last component in the original URL.
.SS \f[C]\-\-auth\-no\-challenge\f[]
.PP
If this option is given, Wget2 will send Basic HTTP authentication
information (plaintext username and password) for all requests.
.PP
Use of this option is not recommended, and is intended only to support
some few obscure servers, which never send HTTP authentication
challenges, but accept unsolicited auth info, say, in addition to
form\-based authentication.
.SS HTTPS (SSL/TLS) Options
.PP
To support encrypted HTTP (HTTPS) downloads, Wget2 must be compiled with
an external SSL library.
The current default is GnuTLS.
In addition, Wget2 also supports HSTS (HTTP Strict Transport Security).
If Wget2 is compiled without SSL support, none of these options are
available.
.SS \f[C]\-\-secure\-protocol=protocol\f[]
.PP
Choose the secure protocol to be used.
Legal values are auto, SSLv2, SSLv3, TLSv1, TLSv1_1, TLSv1_2 and PFS.
If auto is used, the SSL library is given the liberty of choosing the
appropriate protocol automatically, which is achieved by sending a TLSv1
greeting.
This is the default.
.PP
Specifying SSLv2, SSLv3, TLSv1, TLSv1_1 or TLSv1_2 forces the use of the
corresponding protocol.
This is useful when talking to old and buggy SSL server implementations
that make it hard for the underlying SSL library to choose the correct
protocol version.
Fortunately, such servers are quite rare.
.PP
Specifying PFS enforces the use of the so\-called Perfect Forward
Security cipher suites.
In short, PFS adds security by creating a one\-time key for each SSL
connection.
It has a bit more CPU impact on client and server.
We use known to be secure ciphers (e.g.
no MD4) and the TLS protocol.
.SS \f[C]\-\-https\-only\f[]
.PP
When in recursive mode, only HTTPS links are followed.
.SS \f[C]\-\-no\-check\-certificate\f[]
.PP
Don\[aq]t check the server certificate against the available certificate
authorities.
Also don\[aq]t require the URL host name to match the common name
presented by the certificate.
.PP
The default is to verify the server\[aq]s certificate against the
recognized certificate authorities, breaking the SSL handshake and
aborting the download if the verification fails.
Although this provides more secure downloads, it does break
interoperability with some sites that worked with previous Wget
versions, particularly those using self\-signed, expired, or otherwise
invalid certificates.
This option forces an "insecure" mode of operation that turns the
certificate verification errors into warnings and allows you to proceed.
.PP
If you encounter "certificate verification" errors or ones saying that
"common name doesn\[aq]t match requested host name", you can use this
option to bypass the verification and proceed with the download.
Only use this option if you are otherwise convinced of the site\[aq]s
authenticity, or if you really don\[aq]t care about the validity of its
certificate.
It is almost always a bad idea not to check the certificates when
transmitting confidential or important data.
For self\-signed/internal certificates, you should download the
certificate and verify against that instead of forcing this insecure
mode.
If you are really sure of not desiring any certificate verification, you
can specify \-\-check\-certificate=quiet to tell Wget2 to not print any
warning about invalid certificates, albeit in most cases this is the
wrong thing to do.
.SS \f[C]\-\-certificate=file\f[]
.PP
Use the client certificate stored in file.
This is needed for servers that are configured to require certificates
from the clients that connect to them.
Normally a certificate is not required and this switch is optional.
.SS \f[C]\-\-certificate\-type=type\f[]
.PP
Specify the type of the client certificate.
Legal values are PEM (assumed by default) and DER, also known as ASN1.
.SS \-\-private\-key=file
.PP
Read the private key from file.
This allows you to provide the private key in a file separate from the
certificate.
.SS \f[C]\-\-private\-key\-type=type\f[]
.PP
Specify the type of the private key.
Accepted values are PEM (the default) and DER.
.SS \f[C]\-\-ca\-certificate=file\f[]
.PP
Use file as the file with the bundle of certificate authorities ("CA")
to verify the peers.
The certificates must be in PEM format.
.PP
Without this option Wget2 looks for CA certificates at the
system\-specified locations, chosen at OpenSSL installation time.
.SS \f[C]\-\-ca\-directory=directory\f[]
.PP
Specifies directory containing CA certificates in PEM format.
Each file contains one CA certificate, and the file name is based on a
hash value derived from the certificate.
This is achieved by processing a certificate directory with the
"c_rehash" utility supplied with OpenSSL.
Using \f[C]\-\-ca\-directory\f[] is more efficient than
\f[C]\-\-ca\-certificate\f[] when many certificates are installed
because it allows Wget2 to fetch certificates on demand.
.PP
Without this option Wget2 looks for CA certificates at the
system\-specified locations, chosen at OpenSSL installation time.
.SS \f[C]\-\-crl\-file=file\f[]
.PP
Specifies a CRL file in file.
This is needed for certificates that have been revocated by the CAs.
.SS \f[C]\-\-random\-file=file\f[]
.PP
[OpenSSL and LibreSSL only] Use file as the source of random data for
seeding the pseudo\-random number generator on systems without
/dev/urandom.
.PP
On such systems the SSL library needs an external source of randomness
to initialize.
Randomness may be provided by EGD (see \-\-egd\-file below) or read from
an external source specified by the user.
If this option is not specified, Wget2 looks for random data in
$RANDFILE or, if that is unset, in $HOME/.rnd.
.PP
If you\[aq]re getting the "Could not seed OpenSSL PRNG; disabling SSL."
error, you should provide random data using some of the methods
described above.
.SS \f[C]\-\-egd\-file=file\f[]
.PP
[OpenSSL only] Use file as the EGD socket.
EGD stands for Entropy Gathering Daemon, a user\-space program that
collects data from various unpredictable system sources and makes it
available to other programs that might need it.
Encryption software, such as the SSL library, needs sources of
non\-repeating randomness to seed the random number generator used to
produce cryptographically strong keys.
.PP
OpenSSL allows the user to specify his own source of entropy using the
"RAND_FILE" environment variable.
If this variable is unset, or if the specified file does not produce
enough randomness, OpenSSL will read random data from EGD socket
specified using this option.
.PP
If this option is not specified (and the equivalent startup command is
not used), EGD is never contacted.
EGD is not needed on modern Unix systems that support /dev/urandom.
.SS \f[C]\-\-no\-hsts\f[]
.PP
Wget2 supports HSTS (HTTP Strict Transport Security, RFC 6797) by
default.
Use \f[C]\-\-no\-hsts\f[] to make Wget2 act as a non\-HSTS\-compliant
UA.
As a consequence, Wget2 would ignore all the
"Strict\-Transport\-Security" headers, and would not enforce any
existing HSTS policy.
.SS \f[C]\-\-hsts\-file=file\f[]
.PP
By default, Wget2 stores its HSTS database in ~/.wget\-hsts.
You can use \-\-hsts\-file to override this.
Wget2 will use the supplied file as the HSTS database.
Such file must conform to the correct HSTS database format used by Wget.
If Wget2 cannot parse the provided file, the behaviour is unspecified.
.PP
The Wget2\[aq]s HSTS database is a plain text file.
Each line contains an HSTS entry (ie.
a site that has issued a "Strict\-Transport\-Security" header and that
therefore has specified a concrete HSTS policy to be applied).
Lines starting with a dash ("#") are ignored by Wget.
Please note that in spite of this convenient human\-readability
hand\-hacking the HSTS database is generally not a good idea.
.PP
An HSTS entry line consists of several fields separated by one or more
whitespace:
.IP
.nf
\f[C]
\ \ <hostname>\ SP\ [<port>]\ SP\ <include\ subdomains>\ SP\ <created>\ SP\ <max\-age>
\f[]
.fi
.PP
The hostname and port fields indicate the hostname and port to which the
given HSTS policy applies.
The port field may be zero, and it will, in most of the cases.
That means that the port number will not be taken into account when
deciding whether such HSTS policy should be applied on a given request
(only the hostname will be evaluated).
When port is different to zero, both the target hostname and the port
will be evaluated and the HSTS policy will only be applied if both of
them match.
This feature has been included for testing/development purposes only.
The Wget2 testsuite (in testenv/) creates HSTS databases with explicit
ports with the purpose of ensuring Wget2\[aq]s correct behaviour.
Applying HSTS policies to ports other than the default ones is
discouraged by RFC 6797 (see Appendix B "Differences between HSTS Policy
and Same\-Origin Policy").
Thus, this functionality should not be used in production environments
and port will typically be zero.
The last three fields do what they are expected to.
The field include_subdomains can either be 1 or 0 and it signals whether
the subdomains of the target domain should be part of the given HSTS
policy as well.
The created and max\-age fields hold the timestamp values of when such
entry was created (first seen by Wget) and the HSTS\-defined value
\[aq]max\-age\[aq], which states how long should that HSTS policy remain
active, measured in seconds elapsed since the timestamp stored in
created.
Once that time has passed, that HSTS policy will no longer be valid and
will eventually be removed from the database.
.PP
If you supply your own HSTS database via \-\-hsts\-file, be aware that
Wget2 may modify the provided file if any change occurs between the HSTS
policies requested by the remote servers and those in the file.
When Wget2 exists, it effectively updates the HSTS database by rewriting
the database file with the new entries.
.PP
If the supplied file does not exist, Wget2 will create one.
This file will contain the new HSTS entries.
If no HSTS entries were generated (no "Strict\-Transport\-Security"
headers were sent by any of the servers) then no file will be created,
not even an empty one.
This behaviour applies to the default database file (~/.wget\-hsts) as
well: it will not be created until some server enforces an HSTS policy.
.PP
Care is taken not to override possible changes made by other Wget2
processes at the same time over the HSTS database.
Before dumping the updated HSTS entries on the file, Wget2 will re\-read
it and merge the changes.
.PP
Using a custom HSTS database and/or modifying an existing one is
discouraged.
For more information about the potential security threats arised from
such practice, see section 14 "Security Considerations" of RFC 6797,
specially section 14.9 "Creative Manipulation of HSTS Policy Store".
.SS \f[C]\-\-tls\-resume\f[]
.PP
Enable TLS Session Resumption which is disabled as default.
.PP
There are several security flaws related to TLS 1.2 session resumption
which are explained in detail at:
https://web.archive.org/web/20171103231804/https://blog.filippo.io/we\-need\-to\-talk\-about\-session\-tickets/
.SS WARC Options
.SS \f[C]\-\-warc\-file=file\f[]
.PP
Use file as the destination WARC file.
.SS \f[C]\-\-warc\-header=string\f[]
.PP
Use string into as the warcinfo record.
.SS \f[C]\-\-warc\-max\-size=size\f[]
.PP
Set the maximum size of the WARC files to size.
.SS \f[C]\-\-warc\-cdx\f[]
.PP
Write CDX index files.
.SS \f[C]\-\-warc\-dedup=file\f[]
.PP
Do not store records listed in this CDX file.
.SS \f[C]\-\-no\-warc\-compression\f[]
.PP
Do not compress WARC files with GZIP.
.SS \f[C]\-\-no\-warc\-digests\f[]
.PP
Do not calculate SHA1 digests.
.SS \f[C]\-\-no\-warc\-keep\-log\f[]
.PP
Do not store the log file in a WARC record.
.SS \f[C]\-\-warc\-tempdir=dir\f[]
.PP
Specify the location for temporary files created by the WARC writer.
.SS FTP Options
.SS \f[C]\-\-ftp\-user=user\f[], \f[C]\-\-ftp\-password=password\f[]
.PP
Specify the username user and password password on an FTP server.
Without this, or the corresponding startup option, the password defaults
to \-wget\@, normally used for anonymous FTP.
.PP
Another way to specify username and password is in the URL itself.
Either method reveals your password to anyone who bothers to run "ps".
To prevent the passwords from being seen, store them in .wgetrc or
\&.netrc, and make sure to protect those files from other users with
"chmod".
If the passwords are really important, do not leave them lying in those
files either\-\-\-edit the files and delete them after Wget2 has started
the download.
.SS \f[C]\-\-no\-remove\-listing\f[]
.PP
Don\[aq]t remove the temporary .listing files generated by FTP
retrievals.
Normally, these files contain the raw directory listings received from
FTP servers.
Not removing them can be useful for debugging purposes, or when you want
to be able to easily check on the contents of remote server directories
(e.g.
to verify that a mirror you\[aq]re running is complete).
.PP
Note that even though Wget2 writes to a known filename for this file,
this is not a security hole in the scenario of a user making .listing a
symbolic link to /etc/passwd or something and asking "root" to run Wget2
in his or her directory.
Depending on the options used, either Wget2 will refuse to write to
\&.listing, making the globbing/recursion/time\-stamping operation fail,
or the symbolic link will be deleted and replaced with the actual
\&.listing file, or the listing will be written to a .listing.number
file.
.PP
Even though this situation isn\[aq]t a problem, though, "root" should
never run Wget2 in a non\-trusted user\[aq]s directory.
A user could do something as simple as linking index.html to /etc/passwd
and asking "root" to run Wget2 with \-N or \-r so the file will be
overwritten.
.SS \f[C]\-\-no\-glob\f[]
.PP
Turn off FTP globbing.
Globbing refers to the use of shell\-like special characters
(wildcards), like *, ?, [ and ] to retrieve more than one file from the
same directory at once, like:
.IP
.nf
\f[C]
\ \ wget2\ ftp://example.com/*.msg
\f[]
.fi
.PP
By default, globbing will be turned on if the URL contains a globbing
character.
This option may be used to turn globbing on or off permanently.
.PP
You may have to quote the URL to protect it from being expanded by your
shell.
Globbing makes Wget2 look for a directory listing, which is
system\-specific.
This is why it currently works only with Unix FTP servers (and the ones
emulating Unix "ls" output).
.SS \f[C]\-\-no\-passive\-ftp\f[]
.PP
Disable the use of the passive FTP transfer mode.
Passive FTP mandates that the client connect to the server to establish
the data connection rather than the other way around.
.PP
If the machine is connected to the Internet directly, both passive and
active FTP should work equally well.
Behind most firewall and NAT configurations passive FTP has a better
chance of working.
However, in some rare firewall configurations, active FTP actually works
when passive FTP doesn\[aq]t.
If you suspect this to be the case, use this option, or set
"passive_ftp=off" in your init file.
.SS \f[C]\-\-preserve\-permissions\f[]
.PP
Preserve remote file permissions instead of permissions set by umask.
.SS \f[C]\-\-retr\-symlinks\f[]
.PP
By default, when retrieving FTP directories recursively and a symbolic
link is encountered, the symbolic link is traversed and the pointed\-to
files are retrieved.
Currently, Wget2 does not traverse symbolic links to directories to
download them recursively, though this feature may be added in the
future.
.PP
When \-\-retr\-symlinks=no is specified, the linked\-to file is not
downloaded.
Instead, a matching symbolic link is created on the local file system.
The pointed\-to file will not be retrieved unless this recursive
retrieval would have encountered it separately and downloaded it anyway.
This option poses a security risk where a malicious FTP Server may cause
Wget2 to write to files outside of the intended directories through a
specially crafted .LISTING file.
.PP
Note that when retrieving a file (not a directory) because it was
specified on the command\-line, rather than because it was recursed to,
this option has no effect.
Symbolic links are always traversed in this case.
.SS FTPS Options
.SS \f[C]\-\-ftps\-implicit\f[]
.PP
This option tells Wget2 to use FTPS implicitly.
Implicit FTPS consists of initializing SSL/TLS from the very beginning
of the control connection.
This option does not send an "AUTH TLS" command: it assumes the server
speaks FTPS and directly starts an SSL/TLS connection.
If the attempt is successful, the session continues just like regular
FTPS ("PBSZ" and "PROT" are sent, etc.).
Implicit FTPS is no longer a requirement for FTPS implementations, and
thus many servers may not support it.
If \-\-ftps\-implicit is passed and no explicit port number specified,
the default port for implicit FTPS, 990, will be used, instead of the
default port for the "normal" (explicit) FTPS which is the same as that
of FTP, 21.
.SS \f[C]\-\-no\-ftps\-resume\-ssl\f[]
.PP
Do not resume the SSL/TLS session in the data channel.
When starting a data connection, Wget2 tries to resume the SSL/TLS
session previously started in the control connection.
SSL/TLS session resumption avoids performing an entirely new handshake
by reusing the SSL/TLS parameters of a previous session.
Typically, the FTPS servers want it that way, so Wget2 does this by
default.
Under rare circumstances however, one might want to start an entirely
new SSL/TLS session in every data connection.
This is what \-\-no\-ftps\-resume\-ssl is for.
.PP
\-\-ftps\-clear\-data\-connection All the data connections will be in
plain text.
Only the control connection will be under SSL/TLS.
Wget2 will send a "PROT C" command to achieve this, which must be
approved by the server.
.PP
\-\-ftps\-fallback\-to\-ftp Fall back to FTP if FTPS is not supported by
the target server.
For security reasons, this option is not asserted by default.
The default behaviour is to exit with an error.
If a server does not successfully reply to the initial "AUTH TLS"
command, or in the case of implicit FTPS, if the initial SSL/TLS
connection attempt is rejected, it is considered that such server does
not support FTPS.
.SS Recursive Retrieval Options
.SS \f[C]\-r\f[], \f[C]\-\-recursive\f[]
.PP
Turn on recursive retrieving.
The default maximum depth is 5.
.SS \f[C]\-l\ depth\f[], \f[C]\-\-level=depth\f[]
.PP
Specify recursion maximum depth level depth.
.SS \f[C]\-\-delete\-after\f[]
.PP
This option tells Wget2 to delete every single file it downloads, after
having done so.
It is useful for pre\- fetching popular pages through a proxy, e.g.:
.IP
.nf
\f[C]
\ \ wget2\ \-r\ \-nd\ \-\-delete\-after\ https://example.com/~popular/page/
\f[]
.fi
.PP
The \-r option is to retrieve recursively, and \-nd to not create
directories.
.PP
Note that \-\-delete\-after deletes files on the local machine.
It does not issue the DELE command to remote FTP sites, for instance.
Also note that when \-\-delete\-after is specified, \-\-convert\-links
is ignored, so .orig files are simply not created in the first place.
.SS \f[C]\-k\f[], \f[C]\-\-convert\-links\f[]
.PP
After the download is complete, convert the links in the document to
make them suitable for local viewing.
This affects not only the visible hyperlinks, but any part of the
document that links to external content, such as embedded images, links
to style sheets, hyperlinks to non\-HTML content, etc.
.PP
Each link will be changed in one of the two ways:
.IP "1." 3
The links to files that have been downloaded by Wget2 will be changed to
refer to the file they point to as a relative link.
.RS 4
.PP
Example: if the downloaded file /foo/doc.html links to /bar/img.gif,
also downloaded, then the link in doc.html will be modified to point to
\&../bar/img.gif.
This kind of transformation works reliably for arbitrary combinations of
directories.
.RE
.IP "2." 3
The links to files that have not been downloaded by Wget2 will be
changed to include host name and absolute path of the location they
point to.
.RS 4
.PP
Example: if the downloaded file /foo/doc.html links to /bar/img.gif (or
to ../bar/img.gif), then the link in doc.html will be modified to point
to \f[C]https://example.com/bar/img.gif\f[].
.RE
.PP
Because of this, local browsing works reliably: if a linked file was
downloaded, the link will refer to its local name; if it was not
downloaded, the link will refer to its full Internet address rather than
presenting a broken link.
The fact that the former links are converted to relative links ensures
that you can move the downloaded hierarchy to another directory.
.PP
Note that only at the end of the download can Wget2 know which links
have been downloaded.
Because of that, the work done by \f[C]\-k\f[] will be performed at the
end of all the downloads.
.SS \f[C]\-\-convert\-file\-only\f[]
.PP
This option converts only the filename part of the URLs, leaving the
rest of the URLs untouched.
This filename part is sometimes referred to as the "basename", although
we avoid that term here in order not to cause confusion.
.PP
It works particularly well in conjunction with
\f[C]\-\-adjust\-extension\f[], although this coupling is not enforced.
It proves useful to populate Internet caches with files downloaded from
different hosts.
.PP
Example: if some link points to //foo.com/bar.cgi?xyz with
\-\-adjust\-extension asserted and its local destination is intended to
be ./foo.com/bar.cgi?xyz.css, then the link would be converted to
//foo.com/bar.cgi?xyz.css.
Note that only the filename part has been modified.
The rest of the URL has been left untouched, including the net path
("//") which would otherwise be processed by Wget2 and converted to the
effective scheme (ie.
"https://").
.SS \f[C]\-K\f[], \f[C]\-\-backup\-converted\f[]
.PP
When converting a file, back up the original version with a .orig
suffix.
Affects the behavior of \f[C]\-N\f[].
.SS \f[C]\-m\f[], \f[C]\-\-mirror\f[]
.PP
Turn on options suitable for mirroring.
This option turns on recursion and time\-stamping, sets infinite
recursion depth and keeps FTP directory listings.
It is currently equivalent to
\f[C]\-r\ \-N\ \-l\ inf\ \ \ \-\-no\-remove\-listing\f[].
.SS \f[C]\-p\f[], \f[C]\-\-page\-requisites\f[]
.PP
This option causes Wget2 to download all the files that are necessary to
properly display a given HTML page.
This includes such things as inlined images, sounds, and referenced
stylesheets.
.PP
Ordinarily, when downloading a single HTML page, any requisite documents
that may be needed to display it properly are not downloaded.
Using \f[C]\-r\f[] together with \f[C]\-l\f[] can help, but since Wget2
does not ordinarily distinguish between external and inlined documents,
one is generally left with "leaf documents" that are missing their
requisites.
.PP
For instance, say document \f[C]1.html\f[] contains an \f[C]<IMG>\f[]
tag referencing \f[C]1.gif\f[] and an \f[C]<A>\f[] tag pointing to
external document \f[C]2.html\f[].
Say that \f[C]2.html\f[] is similar but that its image is \f[C]2.gif\f[]
and it links to \f[C]3.html\f[].
Say this continues up to some arbitrarily high number.
.PP
If one executes the command:
.IP
.nf
\f[C]
\ \ wget2\ \-r\ \-l\ 2\ https://<site>/1.html
\f[]
.fi
.PP
then 1.html, 1.gif, 2.html, 2.gif, and 3.html will be downloaded.
As you can see, 3.html is without its requisite 3.gif because Wget2 is
simply counting the number of hops (up to 2) away from 1.html in order
to determine where to stop the recursion.
However, with this command:
.IP
.nf
\f[C]
\ \ wget2\ \-r\ \-l\ 2\ \-p\ https://<site>/1.html
\f[]
.fi
.PP
all the above files and 3.html\[aq]s requisite 3.gif will be downloaded.
Similarly,
.IP
.nf
\f[C]
\ \ wget2\ \-r\ \-l\ 1\ \-p\ https://<site>/1.html
\f[]
.fi
.PP
will cause 1.html, 1.gif, 2.html, and 2.gif to be downloaded.
One might think that:
.IP
.nf
\f[C]
\ \ wget2\ \-r\ \-l\ 0\ \-p\ https://<site>/1.html
\f[]
.fi
.PP
would download just 1.html and 1.gif, but unfortunately this is not the
case, because \-l 0 is equivalent to \-l inf\-\-\-that is, infinite
recursion.
To download a single HTML page (or a handful of them, all specified on
the command\-line or in a \-i URL input file) and its (or their)
requisites, simply leave off \-r and \-l:
.IP
.nf
\f[C]
\ \ wget2\ \-p\ https://<site>/1.html
\f[]
.fi
.PP
Note that Wget2 will behave as if \-r had been specified, but only that
single page and its requisites will be downloaded.
Links from that page to external documents will not be followed.
Actually, to download a single page and all its requisites (even if they
exist on separate websites), and make sure the lot displays properly
locally, this author likes to use a few options in addition to \-p:
.IP
.nf
\f[C]
\ \ wget2\ \-E\ \-H\ \-k\ \-K\ \-p\ https://<site>/<document>
\f[]
.fi
.PP
To finish off this topic, it\[aq]s worth knowing that Wget2\[aq]s idea
of an external document link is any URL specified in an \f[C]<A>\f[]
tag, an \f[C]<AREA>\f[] tag, or a \f[C]<LINK>\f[] tag other than
\f[C]<LINK\ REL="stylesheet">\f[].
.SS \f[C]\-\-strict\-comments\f[]
.PP
Obsolete option for compatibility with Wget1.x.
Wget2 always terminates comments at the first occurrence of
\f[C]\-\->\f[], as popular browsers do.
.SS Recursive Accept/Reject Options
.SS \f[C]\-A\ acclist\ \-\-accept\ acclist\f[],
\f[C]\-R\ rejlist\ \-\-reject\ rejlist\f[]
.PP
Specify comma\-separated lists of file name suffixes or patterns to
accept or reject.
Note that if any of the wildcard characters, \f[C]*,\ ?,\ [,\ ]\f[],
appear in an element of acclist or rejlist, it will be treated as a
pattern, rather than a suffix.
In this case, you have to enclose the pattern into quotes to prevent
your shell from expanding it, like in \f[C]\-A\ "*.mp3"\f[] or
\f[C]\-A\ \[aq]*.mp3\[aq]\f[].
.SS \f[C]\-\-accept\-regex\ urlregex\f[],
\f[C]\-\-reject\-regex\ urlregex\f[]
.PP
Specify a regular expression to accept or reject file names.
.SS \f[C]\-\-regex\-type\ regextype\f[]
.PP
Specify the regular expression type.
Possible types are posix or pcre.
Note that to be able to use pcre type, wget2 has to be compiled with
libpcre support.
.SS \f[C]\-\-filter\-urls\f[]
.PP
Apply the accept and reject filters on the URL before starting a
download.
.SS \f[C]\-D\ domain\-list,\ \-\-domains=domain\-list\f[]
.PP
Set domains to be followed.
domain\-list is a comma\-separated list of domains.
Note that it does not turn on \-H.
.SS \f[C]\-\-exclude\-domains\ domain\-list\f[]
.PP
Specify the domains that are not to be followed.
.SS \f[C]\-\-follow\-ftp\f[]
.PP
Follow FTP links from HTML documents.
Without this option, Wget2 will ignore all the FTP links.
.SS \f[C]\-\-follow\-tags=list\f[]
.PP
Wget2 has an internal table of HTML tag / attribute pairs that it
considers when looking for linked documents during a recursive
retrieval.
If a user wants only a subset of those tags to be considered, however,
he or she should be specify such tags in a comma\-separated list with
this option.
.SS \f[C]\-\-ignore\-tags=list\f[]
.PP
This is the opposite of the \-\-follow\-tags option.
To skip certain HTML tags when recursively looking for documents to
download, specify them in a comma\-separated list.
.PP
In the past, this option was the best bet for downloading a single page
and its requisites, using a command\-line like:
.IP
.nf
\f[C]
\ \ wget2\ \-\-ignore\-tags=a,area\ \-H\ \-k\ \-K\ \-r\ https://<site>/<document>
\f[]
.fi
.PP
However, the author of this option came across a page with tags like ""
and came to the realization that specifying tags to ignore was not
enough.
One can\[aq]t just tell Wget2 to ignore "", because then stylesheets
will not be downloaded.
Now the best bet for downloading a single page and its requisites is the
dedicated \-\-page\-requisites option.
.SS \f[C]\-\-ignore\-case\f[]
.PP
Ignore case when matching files and directories.
This influences the behavior of \-R, \-A, \-I, and \-X options, as well
as globbing implemented when downloading from FTP sites.
For example, with this option, \-A "*.txt" will match file1.txt, but
also file2.TXT, file3.TxT, and so on.
The quotes in the example are to prevent the shell from expanding the
pattern.
.SS \f[C]\-H\f[], \f[C]\-\-span\-hosts\f[]
.PP
Enable spanning across hosts when doing recursive retrieving.
.SS \f[C]\-L\f[], \f[C]\-\-relative\f[]
.PP
Follow relative links only.
Useful for retrieving a specific home page without any distractions, not
even those from the same hosts.
.SS \f[C]\-I\ list\f[], \f[C]\-\-include\-directories=list\f[]
.PP
Specify a comma\-separated list of directories you wish to follow when
downloading.
Elements of list may contain wildcards.
.SS \f[C]\-X\ list\f[], \f[C]\-\-exclude\-directories=list\f[]
.PP
Specify a comma\-separated list of directories you wish to exclude from
download.
Elements of list may contain wildcards.
.SS \f[C]\-np\f[], \f[C]\-\-no\-parent\f[]
.PP
Do not ever ascend to the parent directory when retrieving recursively.
This is a useful option, since it guarantees that only the files below a
certain hierarchy will be downloaded.
.SS \f[C]\-\-filter\-mime\-type=list\f[]
.PP
Specify a comma\-separated list of MIME types that will be downloaded.
Elements of list may contain wildcards.
If a MIME type starts with the character \[aq]!\[aq] it won\[aq]t be
downloaded, this is useful when trying to download something with
exceptions.
For example, download everything except images:
.IP
.nf
\f[C]
\ \ wget2\ https://<site>/<document>\ \-\-filter\-mime\-type=*,\\!image/*
\f[]
.fi
.PP
It is also useful to download files that are compatible with an
application of your system.
For instance, download every file that is compatible with LibreOffice
Writer from a website using the recursive mode:
.IP
.nf
\f[C]
\ \ wget2\ \-r\ https://<site>/<document>\ \-\-filter\-mime\-type=$(sed\ \-r\ \[aq]/^MimeType=/!d;s/^MimeType=//;s/;/,/g\[aq]\ /usr/share/applications/libreoffice\-writer.desktop)
\f[]
.fi
.SH Environment
.PP
Wget2 supports proxies for both HTTP and FTP retrievals.
The standard way to specify proxy location, which Wget recognizes, is
using the following environment variables:
.PP
\f[C]http_proxy\f[]
.PP
\f[C]https_proxy\f[]
.PP
If set, the \f[C]http_proxy\f[] and \f[C]https_proxy\f[] variables
should contain the URLs of the proxies for HTTP and HTTPS connections
respectively.
.PP
\f[C]ftp_proxy\f[]
.PP
This variable should contain the URL of the proxy for FTP connections.
It is quite common that \f[C]http_proxy\f[] and \f[C]ftp_proxy\f[] are
set to the same URL.
.PP
\f[C]no_proxy\f[]
.PP
This variable should contain a comma\-separated list of domain
extensions \f[C]proxy\f[] should not be used for.
For instance, if the value of \f[C]no_proxy\f[] is \f[C]\&.mit.edu\f[],
\f[C]proxy\f[] will not be used to retrieve documents from MIT.
.SH Exit Status
.PP
Wget2 may return one of several error codes if it encounters problems.
.IP
.nf
\f[C]
\ \ 0\ \ \ No\ problems\ occurred.

\ \ 1\ \ \ Generic\ error\ code.

\ \ 2\ \ \ Parse\ error\-\-\-for\ instance,\ when\ parsing\ command\-line\ options,\ the\ .wgetrc\ or\ .netrc...

\ \ 3\ \ \ File\ I/O\ error.

\ \ 4\ \ \ Network\ failure.

\ \ 5\ \ \ SSL\ verification\ failure.

\ \ 6\ \ \ Username/password\ authentication\ failure.

\ \ 7\ \ \ Protocol\ errors.

\ \ 8\ \ \ Server\ issued\ an\ error\ response.

\ \ 9\ \ \ Public\ key\ missing\ from\ keyring.

\ \ 10\ \ A\ Signature\ verification\ failed.
\f[]
.fi
.PP
With the exceptions of 0 and 1, the lower\-numbered exit codes take
precedence over higher\-numbered ones, when multiple types of errors are
encountered.
.SH Files
.PP
\f[C]/etc/wgetrc\f[]
.PP
Default location of the global startup file.
.PP
\f[C]~/.wgetrc\f[]
.PP
User startup file.
.SH Bugs
.PP
You are welcome to submit bug reports via the GNU Wget2 bug
tracker (https://gitlab.com/gnuwget/wget2/issues).
.PP
Before actually submitting a bug report, please try to follow a few
simple guidelines.
.IP "1." 3
Please try to ascertain that the behavior you see really is a bug.
If Wget2 crashes, it\[aq]s a bug.
If Wget2 does not behave as documented, it\[aq]s a bug.
If things work strange, but you are not sure about the way they are
supposed to work, it might well be a bug, but you might want to
double\-check the documentation and the mailing lists.
.IP "2." 3
Try to repeat the bug in as simple circumstances as possible.
E.g.
if Wget2 crashes while downloading
\f[C]wget2\ \-rl0\ \ \ \-kKE\ \-t5\ \-\-no\-proxy\ https://example.com\ \-o\ /tmp/log\f[],
you should try to see if the crash is repeatable, and if will occur with
a simpler set of options.
You might even try to start the download at the page where the crash
occurred to see if that page somehow triggered the crash.
.PP
Also, while I will probably be interested to know the contents of your
\f[C]\&.wgetrc\f[] file, just dumping it into the debug message is
probably a bad idea.
Instead, you should first try to see if the bug repeats with
\f[C]\&.wgetrc\f[] moved out of the way.
Only if it turns out that \f[C]\&.wgetrc\f[] settings affect the bug,
mail me the relevant parts of the file.
.IP "3." 3
Please start Wget2 with \-d option and send us the resulting output (or
relevant parts thereof).
If Wget2 was compiled without debug support, recompile it\-\-\-it is
much easier to trace bugs with debug support on.
.PP
Note: please make sure to remove any potentially sensitive information
from the debug log before sending it to the bug address.
The \f[C]\-d\f[] won\[aq]t go out of its way to collect sensitive
information, but the log will contain a fairly complete transcript of
Wget2\[aq]s communication with the server, which may include passwords
and pieces of downloaded data.
Since the bug address is publically archived, you may assume that all
bug reports are visible to the public.
.IP "4." 3
If Wget2 has crashed, try to run it in a debugger, e.g.
\f[C]gdb\ `which\ wget`\ core\f[] and type "where" to get the backtrace.
This may not work if the system administrator has disabled core files,
but it is safe to try.
.SH See also
.PP
This is not the complete manual for GNU Wget.
For more complete information, including more detailed explanations of
some of the options, and a number of commands available for use with
\&.wgetrc files and the \-e option, see the GNU Info entry for wget.
.SH Author
.PP
Wget2 written by Tim Rhsen <tim.ruehsen@gmx.de>
.PP
Wget 1.x originally written by Hrvoje Niki <hniksic@xemacs.org>
.SH Copyright
.PP
Copyright (C) 2012\-2015 Tim Rhsen
.PP
Copyright (C) 2015\-2018 Free Software Foundation, Inc.
.PP
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with no Front\-Cover Texts, and with no Back\-Cover
Texts.
A copy of the license is included in the section entitled "GNU Free
Documentation License".
